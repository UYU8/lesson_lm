<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>
    <ul id="list">

    </ul>
    <script>
        let list = document.getElementById('list');
        // fetch('http://127.0.0.1:3000')
        // console.log(require);
        // function callback(data){
        //     // console.log(data);
        //     list.innerHTML = data.map(user => `<li>
        //         ${user.name}
        //         </li>`
        //     ).join('');
        // }

        let jsonp = (url,callback) => {
            let oScript = document.createElement('script');
            oScript.src = url;
            document.body.appendChild(oScript);
             window.callback = callback;
            //  (data) => {
            //     list.innerHTML = data.map(user => `<li>
            //     ${user.name}
            //     </li>`
            //   ).join('');
            // }
        }
        jsonp('http://localhost:3000',(data) => {
                list.innerHTML = data.map(user => `<li>
                ${user.name}
                </li>`
              ).join('');
            })
    </script>
    <!-- <script src="http://localhost:3000/"></script> -->
</body>
</html>